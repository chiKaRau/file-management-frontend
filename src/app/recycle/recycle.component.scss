/* recycle.component.scss */

/* make host expand nicely in flex layouts */
:host {
    display: block;
    min-width: 0;
}

.recycle-container {
    padding: 16px;
    color: var(--text);

    h2,
    h3 {
        margin: 0 0 10px;
        font-weight: 600;
        color: var(--text);
    }

    /* buttons */
    button {
        background: var(--bg);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 6px;
        padding: 6px 12px;
        cursor: pointer;
        transition: background .15s ease, border-color .15s ease, box-shadow .15s ease;

        &:hover {
            background: var(--menu-hover);
        }

        &:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px var(--accent-ring);
        }

        &:disabled {
            opacity: .55;
            cursor: not-allowed;
        }
    }

    /* prominent destructive action */
    button.danger {
        margin-left: 8px;
        background: var(--danger);
        color: #fff;
        border: 1px solid transparent;

        &:hover {
            filter: brightness(1.05);
        }

        &:disabled {
            opacity: .55;
        }
    }

    .section {
        margin: 18px 0 24px;

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            /* keep li borders flush */
        }

        li {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 10px;

            padding: 10px 12px;
            border-bottom: 1px solid var(--border-soft);
            cursor: default;

            &:last-child {
                border-bottom: none;
            }

            &:hover {
                background: var(--row-hover);
            }

            span {
                color: var(--text);
            }

            small {
                color: var(--text-muted);
            }
        }
    }

    /* ===== Context menu ===== */
    .context-menu {
        position: fixed;
        width: 220px;
        background: var(--menu-bg);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 8px;
        box-shadow: 0 12px 28px var(--shadow);
        z-index: 10000;
        overflow: hidden;

        .menu-item {
            padding: 8px 12px;
            cursor: pointer;
            user-select: none;
            border-bottom: 1px solid var(--border-soft);
            transition: background .12s ease;

            &:hover {
                background: var(--menu-hover);
            }

            &:last-child {
                border-bottom: none;
            }
        }

        /* make the last item ("Delete Permanently") look destructive */
        .menu-item:last-child {
            color: var(--danger);
            font-weight: 600;

            &:hover {
                /* subtle red-tinted hover; fallback to normal hover where unsupported */
                background: color-mix(in srgb, var(--danger) 10%, transparent);
            }
        }
    }
}

.recycle-container {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    box-shadow: 0 2px 10px var(--shadow);
}