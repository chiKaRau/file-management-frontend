<div class="virtual-toolbar">
    <div class="nav-buttons">
        <button (click)="onBack()" [disabled]="!canGoBack">←</button>
        <button (click)="onForward()" [disabled]="!canGoForward">→</button>
        <button (click)="onRefresh()">⟳</button>
    </div>
    <div class="path-area" *ngIf="!isEditingPath" (click)="enterEditMode()">
        <ng-container *ngFor="let crumb of breadcrumbs; let i = index">
            <span class="crumb" (click)="onBreadcrumbClick(i, $event)">{{ crumb }}</span>
            <span class="separator" *ngIf="i < breadcrumbs.length - 1">></span>
        </ng-container>
    </div>
    <div class="path-edit" *ngIf="isEditingPath">
        <input type="text" [value]="displayedPath" (keyup.enter)="onPathEnter($any($event.target).value)"
            (blur)="exitEditMode($any($event.target).value)" autofocus />
    </div>
    <div class="search-box">
        <input type="text" placeholder="Search files..." (input)="onSearchChange($any($event.target).value)"
            [value]="searchText" />
    </div>
</div>